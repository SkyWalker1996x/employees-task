(this["webpackJsonpemployees-task"]=this["webpackJsonpemployees-task"]||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(14),s=n.n(a),i=n(20),o=n(7),u=n(17),l=n(24),j=n(25),d=n(12),b=n(9),p="FETCH_LOAD",m="FETCH_SUCCESS",f="FETCH_LOAD",h="ADD_SELECTED_ITEM",O="REMOVE_SELECTED_ITEM",x={loading:!1,error:!1,items:[],selectedItems:[]},v=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.log(t)}}(),y=Object(u.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case p:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case m:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,items:r});case f:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,error:r});case h:return Object(b.a)(Object(b.a)({},e),{},{selectedItems:[].concat(Object(d.a)(e.selectedItems),[r])});case O:return Object(b.a)(Object(b.a)({},e),{},{selectedItems:e.selectedItems.filter((function(e){return e.id!==r}))});default:return e}}),v,Object(l.composeWithDevTools)(Object(u.applyMiddleware)(j.a)));y.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){console.log(n)}}(y.getState())}));var g=n(3),_=n(13),E=n.n(_),N=n(21),w=n(26),C=(new function e(){var t=this;Object(w.a)(this,e),this._apiBase="https://yalantis-react-school-api.yalantis.com/api/task0/",this.get=function(){var e=Object(N.a)(E.a.mark((function e(n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(n));case 2:if((r=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(n,", received ").concat(r.status));case 5:return e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getEmployees=Object(N.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("users");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}).getEmployees,S=function(){return function(e){e({type:p}),C().then((function(t){e({type:m,payload:t})})).catch((function(t){e({type:f,payload:t})}))}},I=n(1),M=function(e){var t=e.employee,n=t.firstName,r=t.lastName,c=-1!==Object(o.c)((function(e){return e})).selectedItems.findIndex((function(e){return e.id===t.id})),a=Object(o.b)(),s=function(e){var n;"add"===e.target.value?a(function(e){return{type:h,payload:e}}(t)):a((n=t.id,{type:O,payload:n}))};return Object(I.jsxs)("div",{className:"employee__wrapper",children:[Object(I.jsx)("p",{children:"".concat(r," ").concat(n)}),Object(I.jsxs)("div",{className:"radio__group",children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("input",{type:"radio",value:"remove",onChange:s,checked:!c}),"Not active"]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("input",{type:"radio",value:"add",onChange:s,checked:c}),"Active"]})]})]})},k=function(e){var t=e.item,n=t.letter,r=t.items;return Object(I.jsxs)("div",{className:"letter__wrapper",children:[Object(I.jsx)("h2",{children:n}),Object(I.jsx)("div",{className:"employees__list",children:0===r.length?"______":r.map((function(e){return Object(I.jsx)(M,{employee:e},e.id)}))})]})},D=n(16),T=n.n(D),A=(n(37),function(){var e,t,n=Object(o.c)((function(e){return e})).items,r=(e=n,t="lastName",Array.from(Array(26)).map((function(e,t){return t+65})).map((function(n){var r=String.fromCharCode(n),c=e.filter((function(e){return r.toUpperCase()===e[t][0].toUpperCase()})).sort((function(e,n){var r=e[t],c=n[t];return r<c?-1:r>c?1:0}));return{letter:r,items:c}})));return Object(I.jsxs)("div",{className:"letters__wrapper",children:[Object(I.jsx)("h1",{children:"Employees"}),Object(I.jsx)("div",{className:"letter__list",children:r.map((function(e,t){return Object(I.jsx)(k,{item:e},t)}))})]})}),L=function(e){var t=e.item,n=t.firstName,r=t.lastName,c=t.dob,a=T()(c).format("D MMMM YYYY");return Object(I.jsxs)("li",{children:[r," ",n," - ",a," year"]})},F=function(e){var t=e.item,n=t.month,r=t.items;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h2",{children:n}),Object(I.jsx)("ul",{children:r.map((function(e){return Object(I.jsx)(L,{item:e},e.id)}))})]})},J=(n(38),function(){var e=Object(o.c)((function(e){return e})).selectedItems,t=function(e,t){var n=Array.from({length:12},(function(e,t){return new Date(null,t+1,null).toLocaleDateString("en",{month:"long"})})),r=n.slice(0,4),c=n.slice(4);return[].concat(Object(d.a)(c),Object(d.a)(r)).map((function(n){var r=e.filter((function(e){return T()(e.dob).format("MMMM")===n})).sort((function(e,n){var r=e[t],c=n[t];return r<c?-1:r>c?1:0}));return{month:n,items:r}}))}(e,"lastName").map((function(e){if(e.items.length>0)return Object(I.jsx)(F,{item:e})}));return Object(I.jsxs)("div",{className:"birthday__wrapper",children:[Object(I.jsx)("h1",{children:"Employees birthday"}),Object(I.jsx)("div",{className:"month__list",children:e.length?t:"Employees List is empty"})]})}),Y=function(){var e=Object(o.c)((function(e){return e})).loading,t=Object(o.b)();return Object(r.useEffect)((function(){t(S())}),[]),e?Object(I.jsx)("h1",{children:"loading..."}):Object(I.jsxs)("div",{className:"employees__page",children:[Object(I.jsx)(A,{}),Object(I.jsx)(J,{})]})},B=function(){return Object(I.jsx)("h1",{children:"NotFoundPage"})},H=function(){return Object(I.jsxs)(g.d,{children:[Object(I.jsx)(g.b,{exact:!0,path:"/",children:Object(I.jsx)(g.a,{to:"/employees"})}),Object(I.jsx)(g.b,{exact:!0,path:"/employees",component:Y}),Object(I.jsx)(g.b,{render:function(){return Object(I.jsx)(B,{})}})]})};n(41);s.a.render(Object(I.jsx)(i.a,{children:Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(o.a,{store:y,children:Object(I.jsx)(H,{})})})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.87f90d5e.chunk.js.map